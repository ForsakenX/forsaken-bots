#!/usr/bin/env ruby


=begin
Main Libs
=end

require 'rubygems'
require 'eventmachine'
require 'logger'

=begin
Globals
=end

ROOT  = File.dirname(__FILE__)

LOGGER = Logger.new("#{ROOT}/logs/client")
LOGGER.level = Logger.const_get(DEBUG)

=begin
Application Libs
=end

$: << "#{ROOT}/lib/"

Dir[
  "#{ROOT}/lib/*.rb",
  "#{ROOT}/models/*.rb",
].each { |m| require m if FileTest.executable?(m) }

require "irc/irc.rb"

=begin
Run
=end

EM::run {
  begin
    EM::connect('localhost',6667,Irc::Client)
  rescue
    puts "#{$!}\n#{$@.join("\n")}"
    exit 1
  end
}

